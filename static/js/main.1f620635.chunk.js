(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(t,e,n){t.exports=n(59)},34:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(12),s=n.n(i),r=(n(34),n(2)),c=n(9),l=n(4),d=n(3),u=n(5),p=(n(8),n(1)),f=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0;n.props.changeStatus(n.props.task.id,e)},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.state={editMode:!1,title:n.props.task.title},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.props.changeTitle(n.props.task.id,n.state.title),n.setState({editMode:!1})},n.onDeleteTask=function(){n.props.deleteTask(n.props.task.id)},n.render=function(){var t=n.props.task.isDone?"todoList-task done":"todoList-task",e="";switch(n.props.task.priority){case 0:e="Low";break;case 1:e="Middle";break;case 2:e="High";break;case 3:e="Urgently";break;case 4:e="Later"}return o.a.createElement("div",{className:t},o.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?o.a.createElement("input",{onBlur:n.deactivateEditMode,onChange:n.onTitleChanged,autoFocus:!0,value:n.state.title}):o.a.createElement("span",{onClick:n.activateEditMode},n.props.task.title),", priority: ",e," ",o.a.createElement("button",{onClick:n.onDeleteTask},"X"))},n}return Object(u.a)(e,t),e}(o.a.Component),T=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).render=function(){var t=n.props.tasks.map(function(t){return o.a.createElement(f,{task:t,changeStatus:n.props.changeStatus,changeTitle:n.props.changeTitle,deleteTask:n.props.deleteTask})});return o.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(u.a)(e,t),e}(o.a.Component),m=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!0})},n.onHideFiltersClick=function(){n.setState({isHidden:!1})},n.render=function(){var t="All"===n.props.filterValue?"filter-active":"",e="Completed"===n.props.filterValue?"filter-active":"",a="Active"===n.props.filterValue?"filter-active":"";return o.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&o.a.createElement("div",{className:"todoListFooterButton"},o.a.createElement("button",{onClick:n.onAllFilterClick,className:t},"All"),o.a.createElement("button",{onClick:n.onCompletedFilterClick,className:e},"Completed"),o.a.createElement("button",{onClick:n.onActiveFilterClick,className:a},"Active")),!n.state.isHidden&&o.a.createElement("div",{className:"todoListIsHidden"},o.a.createElement("span",{className:"todoListFooterSpan",onClick:n.onShowFiltersClick},"hide")),n.state.isHidden&&o.a.createElement("div",{className:"todoListIsShow"},o.a.createElement("span",{className:"todoListFooterSpan",onClick:n.onHideFiltersClick},"show")))},n}return Object(u.a)(e,t),e}(o.a.Component),h=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={editMode:!1,title:n.props.title},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.props.updateTitle(n.state.title)},n.activateEditMode=function(){n.setState({editMode:!0})},n.render=function(){return o.a.createElement(o.a.Fragment,null,n.state.editMode?o.a.createElement("input",{value:n.state.title,autoFocus:!0,onBlur:n.deactivateEditMode,onChange:n.onTitleChanged}):o.a.createElement("div",{className:"todoList-header__title"},o.a.createElement("h3",{onClick:n.activateEditMode},n.props.title),o.a.createElement("button",{className:"buttonHeaderTitle",onClick:n.props.deleteTodolist},"X")))},n}return Object(u.a)(e,t),e}(o.a.Component),k=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;n.setState({title:""}),""===t?n.setState({error:!0}):(n.setState({error:!1}),n.props.addItem(t))},n.onTitleChanged=function(t){n.setState({error:!1,title:t.currentTarget.value})},n.onKeyPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{className:t,type:"text",placeholder:"New item name",onChange:n.onTitleChanged,onKeyPress:n.onKeyPress,value:n.state.title}),o.a.createElement("button",{className:"buttonAddTodoLists",onClick:n.onAddItemClick},"Add"))},n}return Object(u.a)(e,t),e}(o.a.Component),E=n(7),b=n(16),g=n(27),v=n.n(g).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"3af6bfa5-65e5-4eec-88f6-fc8f87e12121"}}),O=function(t,e){return v.post("/todo-lists/".concat(e,"/tasks"),{title:t})},C=function(t){return v.post("/todo-lists",{title:t})},j=function(){return v.get("/todo-lists")},L=function(t){return v.put("/todo-lists/tasks",t)},S=function(t){return v.delete("/todo-lists/".concat(t))},w=function(t,e){return v.delete("/todo-lists/".concat(e,"/tasks/").concat(t))},A=function(t){return v.get("/todo-lists/".concat(t,"/tasks"))},y=function(t,e){return v.put("/todo-lists/".concat(e),{title:t})},I=function(t,e){return v.post("/auth/login",{email:t,password:e})},D=function(){return v.delete("/auth/login")},N="TodoList/Reducer/ADD-TASK",R={todolists:[]},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/Reducer/SET_TASKS":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id!==e.todolistId?t:Object(p.a)({},t,{tasks:e.tasks})})});case"TodoList/Reducer/SET_TODOLISTS":return Object(p.a)({},t,{todolists:e.todolists.map(function(t){return Object(p.a)({},t,{tasks:[]})})});case"TodoList/Reducer/ADD-TODOLIST":return Object(p.a)({},t,{todolists:[].concat(Object(b.a)(t.todolists),[e.newTodolist])});case"TodoList/Reducer/DELETE-TODOLIST":return Object(p.a)({},t,{todolists:t.todolists.filter(function(t){return t.id!=e.todolistId})});case"TodoList/Reducer/UPDATE_TODOLIST_TITLE":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id!=e.todolistId?t:Object(p.a)({},t,{title:e.title})})});case"TodoList/Reducer/DELETE-TASK":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?Object(p.a)({},t,{tasks:t.tasks.filter(function(t){return t.id!==e.taskId})}):t})});case N:return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?Object(p.a)({},t,{tasks:[].concat(Object(b.a)(t.tasks),[e.newTask])}):t})});case"TodoList/Reducer/UPDATE-TASK":return Object(p.a)({},t,{todolists:t.todolists.map(function(t){return t.id===e.todolistId?Object(p.a)({},t,{tasks:t.tasks.map(function(t){return t.id!=e.taskId?t:Object(p.a)({},t,{},e.obj)})}):t})})}return t},M=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).restoreState=function(){n.props.setTasksTC(n.props.id)},n.state={filterValue:"All"},n.addTask=function(t){n.props.addTaskTC(t,n.props.id)},n.changeFilter=function(t){n.setState({filterValue:t},function(){})},n.changeTask=function(t,e){n.props.tasks.forEach(function(a){a.id===t&&n.props.updateTaskTC(t,Object(p.a)({},a,{},e),n.props.id)})},n.changeStatus=function(t,e){n.changeTask(t,{status:e})},n.changeTitle=function(t,e){n.changeTask(t,{title:e})},n.deleteTodolist=function(){n.props.deleteTodolistTC(n.props.id)},n.deleteTask=function(t){n.props.deleteTaskTC(t,n.props.id)},n.updateTitle=function(t){n.props.updateTodolistTitleTC(t,n.props.id)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return o.a.createElement("div",{className:"todoList"},o.a.createElement("div",{className:"todoList-header"},o.a.createElement(h,{title:n.props.title,deleteTodolist:n.deleteTodolist,updateTitle:n.updateTitle}),o.a.createElement(k,{addItem:n.addTask})),o.a.createElement(T,{changeStatus:n.changeStatus,changeTitle:n.changeTitle,deleteTask:n.deleteTask,tasks:e.filter(function(t){return"All"===n.state.filterValue||("Active"===n.state.filterValue?!t.isDone:"Completed"===n.state.filterValue?t.isDone:void 0)})}),o.a.createElement(m,{changeFilter:n.changeFilter,filterValue:n.state.filterValue}))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),P=Object(E.b)(null,{addTaskTC:function(t,e){return function(n){O(t,e).then(function(t){var a=t.data.data.item;n(function(t,e){return{type:N,newTask:t,todolistId:e}}(a,e))})}},setTasksTC:function(t){return function(e){A(t).then(function(n){var a=n.data.items;e(function(t,e){return{type:"TodoList/Reducer/SET_TASKS",tasks:t,todolistId:e}}(a,t))})}},updateTaskTC:function(t,e,n){return function(a){L(e).then(function(){a(function(t,e,n){return{type:"TodoList/Reducer/UPDATE-TASK",taskId:t,obj:e,todolistId:n}}(t,e,n))})}},deleteTodolistTC:function(t){return function(e){S(t).then(function(){e(function(t){return{type:"TodoList/Reducer/DELETE-TODOLIST",todolistId:t}}(t))})}},deleteTaskTC:function(t,e){return function(n){w(t,e).then(function(){n(function(t,e){return{type:"TodoList/Reducer/DELETE-TASK",todolistId:e,taskId:t}}(t,e))})}},updateTodolistTitleTC:function(t,e){return function(n){y(t,e).then(function(){n(function(t,e){return{type:"TodoList/Reducer/UPDATE_TODOLIST_TITLE",title:t,todolistId:e}}(t,e))})}}})(M),_=n(11),H=n.n(_),K="TodoList/logineReducer/LOG_OUT",V="TodoList/logineReducer/SET_EMAIL",x={isLogin:!1,email:"",password:""},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TodoList/logineReducer/SET_IS_LOGIN":return Object(p.a)({},t,{isLogin:!0});case K:return Object(p.a)({},t,{isLogin:!1});case V:return Object(p.a)({},t,{email:e.emailTitle});case"TodoList/logineReducer/SET_PASSWORD":return Object(p.a)({},t,{password:e.passwordTitle})}return t},B=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(o)))).inputEmail=function(t){n.props.inputEmailAC(t.currentTarget.value)},n.inputPassword=function(t){n.props.inputPasswordAC(t.currentTarget.value)},n.login=function(){n.props.loginTC()},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"loginWrapper"},o.a.createElement("h4",{className:"testEmailPassword"},"\u0414\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0441\u043e\u0446 \u0441\u0435\u0442\u0438 \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 Email \u0438 Password"),o.a.createElement("h4",{className:"testEmailPassword"},"Email: free@samuraijs.com"),o.a.createElement("h4",{className:"testEmailPassword"},"Password: free"),o.a.createElement("input",{className:"inputEmail",onChange:this.inputEmail}),o.a.createElement("input",{className:"inputPassword",type:"password",onChange:this.inputPassword}),o.a.createElement("button",{onClick:this.login},"Sign in"))}}]),e}(o.a.Component),W=Object(E.b)(null,{inputEmailAC:function(t){return{type:V,emailTitle:t}},inputPasswordAC:function(t){return{type:"TodoList/logineReducer/SET_PASSWORD",passwordTitle:t}},loginTC:function(){return function(t,e){var n;return H.a.async(function(a){for(;;)switch(a.prev=a.next){case 0:return n=e(),a.next=3,H.a.awrap(I(n.login.email,n.login.password));case 3:0===a.sent.data.resultCode&&t({type:"TodoList/logineReducer/SET_IS_LOGIN"});case 5:case"end":return a.stop()}})}}})(B),G=Object(E.b)(null,{logoutTC:function(){return function(t){return H.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.awrap(D());case 2:0===e.sent.data.resultCode&&t({type:K});case 4:case"end":return e.stop()}})}}})(function(t){return o.a.createElement("div",null,o.a.createElement("button",{className:"buttonLogOut",onClick:t.logoutTC},"Log out"))}),J=function(t){function e(){var t,n;Object(r.a)(this,e);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(i)))).nextTodoListId=0,n.addTodoList=function(t){n.props.addTodolistTC(t)},n.restoreState=function(){n.props.setTodolistsTC()},n.render=function(){var t=n.props.todolists.map(function(t){return o.a.createElement(P,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})});return o.a.createElement("div",null,n.props.isLogin?o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(k,{addItem:n.addTodoList}),o.a.createElement(G,null)),o.a.createElement("div",{className:"App"},t)):o.a.createElement(W,null))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.restoreState()}}]),e}(o.a.Component),X=Object(E.b)(function(t){return{todolists:t.todolist.todolists,isLogin:t.login.isLogin}},{addTodolistTC:function(t){return function(e){C(t).then(function(t){var n=t.data.data.item;e({type:"TodoList/Reducer/ADD-TODOLIST",newTodolist:n})})}},setTodolistsTC:function(){return function(t){j().then(function(e){t({type:"TodoList/Reducer/SET_TODOLISTS",todolists:e.data})})}}})(J);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=n(10),$=n(28),q=Object(Y.c)({todolist:F,login:U}),z=Object(Y.d)(q,Object(Y.a)($.a));s.a.render(o.a.createElement(E.a,{store:z},o.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},8:function(t,e,n){}},[[29,1,2]]]);
//# sourceMappingURL=main.1f620635.chunk.js.map